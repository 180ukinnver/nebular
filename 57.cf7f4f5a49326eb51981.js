(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"/VH1":function(t,e,n){"use strict";n.r(e);var r,o=n("Valr"),c=n("QJY3"),i=n("cUzu"),u=n("0AKQ"),a=n("F4EV"),s=n("Abgx"),p=n("F/XL"),b=n("15JJ"),f=n("67Y/"),l=n("9Z1F"),h=n("4pP6"),d=n("89WS"),y=n("V1Ee"),g=n("X/Iy"),O=n("TYT/"),k=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return k(e,t),e.prototype.getValue=function(){return this.token.id_token},e.NAME="nb:auth:azure:token",e}(h.c),m=function(t){function e(){var e,n,r=null!==t&&t.apply(this,arguments)||this;return r.redirectResultHandlers=((e={})[d.c.CODE]=function(){return Object(p.a)(r.route.snapshot.queryParams).pipe(Object(b.a)((function(t){return t.code?r.requestToken(t.code):Object(p.a)(new y.a(!1,t,r.getOption("redirect.failure"),r.getOption("defaultErrors"),[]))})))},e.id_token=function(){var t=r.getOption("authorize.requireValidToken");return Object(p.a)(r.route.snapshot.fragment).pipe(Object(f.a)((function(t){return r.parseHashAsQueryParams(t)})),Object(f.a)((function(e){return e.error?new y.a(!1,e,r.getOption("redirect.failure"),r.getOption("defaultErrors"),[]):new y.a(!0,e,r.getOption("redirect.success"),[],r.getOption("defaultMessages"),r.createToken(e,t))})),Object(l.a)((function(t){var e=[];return e.push(t instanceof h.a?t.message:"Something went wrong."),Object(p.a)(new y.a(!1,t,r.getOption("redirect.failure"),e))})))},e),r.redirectResults=((n={})[d.c.CODE]=function(){return Object(p.a)(null)},n.id_token=function(){return Object(p.a)(r.route.snapshot.fragment).pipe(Object(f.a)((function(t){return r.parseHashAsQueryParams(t)})),Object(f.a)((function(t){return!(!t||!t.id_token&&!t.error)})))},n),r}return k(e,t),e.setup=function(t){return[e,t]},e.\u0275prov=O.Pb({token:e,factory:e.\u0275fac=function(t){return w(t||e)}}),e}(g.a),w=O.bc(m),j=n("DUip"),z=n("ny24"),_=n("K9Ia"),S=n("BDhN"),Y=n("vuB0"),T=function(){function t(t,e){var n=this;this.authService=t,this.router=e,this.destroy$=new _.a,this.authService.authenticate("azure").pipe(Object(z.a)(this.destroy$)).subscribe((function(t){t.isSuccess()&&t.getRedirect()&&n.router.navigateByUrl(t.getRedirect())}))}return t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.\u0275fac=function(e){return new(e||t)(O.Tb(S.a),O.Tb(j.c))},t.\u0275cmp=O.Nb({type:t,selectors:[["nb-playground-azure-callback"]],decls:3,vars:0,template:function(t,e){1&t&&(O.Zb(0,"nb-layout"),O.Zb(1,"nb-layout-column"),O.Oc(2,"Authenticating..."),O.Yb(),O.Yb())},directives:[Y.b,Y.a],encapsulation:2}),t}(),Z=n("S+eJ");function A(t,e){if(1&t){var n=O.ac();O.Zb(0,"button",2),O.lc("click",(function(){return O.Gc(n),O.pc().login()})),O.Oc(1,"Sign In with Azure"),O.Yb()}}function $(t,e){if(1&t){var n=O.ac();O.Zb(0,"button",3),O.lc("click",(function(){return O.Gc(n),O.pc().logout()})),O.Oc(1,"Sign Out"),O.Yb()}}var I=[{path:"",component:function(){function t(t){var e=this;this.authService=t,this.destroy$=new _.a,this.authService.onTokenChange().pipe(Object(z.a)(this.destroy$)).subscribe((function(t){e.token=null,t&&t.isValid()&&(e.token=t)}))}return t.prototype.login=function(){this.authService.authenticate("azure").pipe(Object(z.a)(this.destroy$)).subscribe((function(t){}))},t.prototype.logout=function(){this.authService.logout("azure").pipe(Object(z.a)(this.destroy$)).subscribe((function(t){}))},t.prototype.ngOnDestroy=function(){this.destroy$.next(),this.destroy$.complete()},t.\u0275fac=function(e){return new(e||t)(O.Tb(S.a))},t.\u0275cmp=O.Nb({type:t,selectors:[["nb-playground-azure"]],decls:11,vars:6,consts:[["nbButton","","status","success",3,"click",4,"ngIf"],["nbButton","","status","warning",3,"click",4,"ngIf"],["nbButton","","status","success",3,"click"],["nbButton","","status","warning",3,"click"]],template:function(t,e){1&t&&(O.Zb(0,"nb-layout"),O.Zb(1,"nb-layout-column"),O.Zb(2,"nb-card"),O.Zb(3,"nb-card-body"),O.Zb(4,"p"),O.Oc(5),O.Yb(),O.Zb(6,"p"),O.Oc(7),O.qc(8,"json"),O.Yb(),O.Mc(9,A,2,0,"button",0),O.Mc(10,$,2,0,"button",1),O.Yb(),O.Yb(),O.Yb(),O.Yb()),2&t&&(O.Fb(5),O.Qc("Current User Authenticated: ",!!e.token,""),O.Fb(2),O.Qc("Current User Token: ",O.rc(8,4,e.token),""),O.Fb(2),O.vc("ngIf",!e.token),O.Fb(1),O.vc("ngIf",e.token))},directives:[Y.b,Y.a,Z.b,Z.a,o.n],pipes:[o.h],encapsulation:2}),t}()},{path:"callback",component:T}],P=function(){function t(){}return t.\u0275mod=O.Rb({type:t}),t.\u0275inj=O.Qb({factory:function(e){return new(e||t)},imports:[[j.g.forChild(I)],j.g]}),t}();n.d(e,"AzurePlaygroundModule",(function(){return Q}));var Q=function(){function t(){}return t.\u0275mod=O.Rb({type:t}),t.\u0275inj=O.Qb({factory:function(e){return new(e||t)},providers:[m],imports:[[o.c,c.g,i.c,s.a.forRoot({strategies:[m.setup({name:"azure",clientId:"bde728e2-2809-4ff1-bc9c-7fcb23800ebe",clientSecret:"",authorize:{endpoint:"https://login.microsoftonline.com/01513fd2-16a0-453b-9fa0-c9089bfa023e/oauth2/authorize",responseType:"id_token",scope:"openid",redirectUri:"https://akveo.github.io/nebular/example/azure/callback",params:{p:"b2c_1_nebular"}},token:{class:v},redirect:{success:"/example/azure"}})]}),u.a,a.a,P]]}),t}()}}]);